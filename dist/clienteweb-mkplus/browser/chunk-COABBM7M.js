import{a as J}from"./chunk-ILKCI47Z.js";import{a as G}from"./chunk-C4WTJQS6.js";import{a as U,c as q}from"./chunk-RH4TZRWQ.js";import"./chunk-VEIXSALB.js";import"./chunk-BBQ7KRAI.js";import"./chunk-3IL7TKSJ.js";import"./chunk-5S2ZHQID.js";import{a as K}from"./chunk-3QEI6ENN.js";import{a as R,b as z,c as L,d as j,e as A,f as O,v as H}from"./chunk-RRJ2G4CW.js";import{b as I,d as W,g as N,u as P,v as B}from"./chunk-YPYZVSIH.js";import"./chunk-I2A4HNRV.js";import{e as V,i as k}from"./chunk-PTR2WAUU.js";import{g as T,s as D}from"./chunk-JJK3Y3Z5.js";import{Bb as w,Db as d,Ea as l,Ob as m,Pb as S,Va as E,Vb as f,Wb as v,Xb as x,aa as C,fa as s,fb as u,ga as p,gb as _,hb as h,jb as y,kb as M,lb as F,mb as n,nb as o,ob as b,ub as g}from"./chunk-XFJKNVDY.js";import"./chunk-FJYW2LMB.js";function X(t,a){if(t&1){let e=g();n(0,"button",21),w("click",function(){let i=s(e).$implicit,r=d(2);return p(r.seleccionTipoDireccion(i.tipo))}),n(1,"div",22)(2,"span",23),m(3),o(),n(4,"span",24),m(5),o()()()}if(t&2){let e=a.$implicit;l(3),S(e.tipo),l(2),S(e.nombre)}}function Y(t,a){if(t&1&&(n(0,"div",11)(1,"label",16),m(2,"Tipo de Direcci\xF3n"),o(),n(3,"div",17)(4,"button",18)(5,"span"),m(6),o()(),n(7,"div",19),y(8,X,6,2,"button",20,h),o()()()),t&2){let e=d();l(6),S(e.cliente.direccion!=null&&e.cliente.direccion.callePrincipal?e.cliente.direccion==null?null:e.cliente.direccion.callePrincipal:"Seleccionar tipo"),l(2),M(e.listaTipoDireccion)}}function Z(t,a){if(t&1){let e=g();n(0,"div",11)(1,"div",25)(2,"label",26),m(3,"N\xFAmero o nombre calle"),o(),n(4,"input",27),x("ngModelChange",function(i){s(e);let r=d();return v(r.cliente.direccion.calleSecundaria,i)||(r.cliente.direccion.calleSecundaria=i),p(i)}),o()()()}if(t&2){let e=d();l(4),f("ngModel",e.cliente.direccion.calleSecundaria)}}function $(t,a){if(t&1){let e=g();n(0,"div",11)(1,"div",25)(2,"label",26),m(3,"N\xFAmero"),o(),n(4,"input",27),x("ngModelChange",function(i){s(e);let r=d();return v(r.cliente.direccion.numero,i)||(r.cliente.direccion.numero=i),p(i)}),o()()()}if(t&2){let e=d();l(4),f("ngModel",e.cliente.direccion.numero)}}function ee(t,a){if(t&1){let e=g();n(0,"div",12)(1,"div",25)(2,"label",26),m(3,"Informaci\xF3n adicional"),o(),n(4,"input",27),x("ngModelChange",function(i){s(e);let r=d();return v(r.cliente.direccion.otros,i)||(r.cliente.direccion.otros=i),p(i)}),o()()()}if(t&2){let e=d();l(4),f("ngModel",e.cliente.direccion.otros)}}function ie(t,a){if(t&1){let e=g();n(0,"div",12)(1,"div",25)(2,"label",26),m(3,"Barrio"),o(),n(4,"input",27),x("ngModelChange",function(i){s(e);let r=d();return v(r.cliente.direccion.barrio,i)||(r.cliente.direccion.barrio=i),p(i)}),o()()()}if(t&2){let e=d();l(4),f("ngModel",e.cliente.direccion.barrio)}}function te(t,a){if(t&1){let e=g();n(0,"div",12)(1,"div",25)(2,"label",26),m(3,"Ciudad"),o(),n(4,"input",27),x("ngModelChange",function(i){s(e);let r=d();return v(r.cliente.direccion.ciudad,i)||(r.cliente.direccion.ciudad=i),p(i)}),o()()()}if(t&2){let e=d();l(4),f("ngModel",e.cliente.direccion.ciudad)}}function ne(t,a){if(t&1){let e=g();n(0,"div",12)(1,"div",25)(2,"label",26),m(3,"Departamento"),o(),n(4,"input",27),x("ngModelChange",function(i){s(e);let r=d();return v(r.cliente.direccion.departamento,i)||(r.cliente.direccion.departamento=i),p(i)}),o()()()}if(t&2){let e=d();l(4),f("ngModel",e.cliente.direccion.departamento)}}var Q=class t{location=C(T);cotizadorStore=C(J);clienteService=C(G);utilidadesService=C(H);router=C(V);cargando=!1;cliente=structuredClone(U);listaTipoDireccion=q;ngOnInit(){this.cotizadorStore.cliente()._id&&(this.cliente=this.cotizadorStore.cliente())}atras=()=>{this.location.back()};constructor(){this.cliente=this.cotizadorStore.cliente()}seleccionTipoDireccion=a=>{this.cliente.direccion&&(this.cliente.direccion.callePrincipal=a)};guardarCliente(){this.crearActualizarCliente()}crearActualizarCliente=()=>{this.cargando=!0,this.clienteService.registrarCliente(this.cliente).subscribe({next:a=>{this.cargando=!1,a.estatus?(this.cotizadorStore.setCliente(a.data),this.router.navigate(["/tienda/formulario-vehiculo"])):this.utilidadesService.abrirModalInfo("Regitro cliente",a.resultadoOperacion,"Entendido")},error:a=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Regitro cliente",a.error.resultadoOperacion,"Entendido")}})};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=E({type:t,selectors:[["app-formulario-envio"]],decls:26,vars:9,consts:[[3,"loading","messageInput"],[1,"container-fluid","min-vh-100","p-4","my-5"],[1,"row","justify-content-center"],[1,"col-xxl-6","col-xl-7","col-lg-8","col-md-10"],[1,"bg-white","border-1","p-4"],[1,"mb-4","pb-3","border-bottom"],[1,"btn","btn-link","text-dark","p-0","mb-3","fw-semibold","text-decoration-none","text-start",3,"click"],[1,"fas","fa-arrow-left","me-2"],[1,"h2","fw-bold","text-dark","mb-2"],[1,"text-muted","mb-0"],[1,"row","g-4"],[1,"col-md-4"],[1,"col-12"],[1,"d-flex","justify-content-end","mt-5","pt-3","border-top"],[1,"boton-principal-kia","d-flex","align-items-center","gap-3",3,"click"],[1,"fas","fa-arrow-right"],[1,"input-kia-label","text-dark"],["ngbDropdown","",1,"d-inline-block","w-100"],["type","button","id","dropdownDireccion","ngbDropdownToggle","",1,"input-kia-field","w-100","text-start","d-flex","justify-content-between","align-items-center"],["ngbDropdownMenu","","aria-labelledby","dropdownDireccion",1,"border-0","shadow-sm","mt-2","overflow-auto",2,"min-width","100%","max-height","300px"],["ngbDropdownItem","",1,"dropdown-item","py-3","border-bottom"],["ngbDropdownItem","",1,"dropdown-item","py-3","border-bottom",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fw-semibold"],[1,"text-muted","small"],[1,"input-kia"],[1,"input-kia-label"],["type","text","placeholder"," ",1,"input-kia-field",3,"ngModelChange","ngModel"]],template:function(e,c){e&1&&(b(0,"app-loading-screen",0),n(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),w("click",function(){return c.atras()}),b(7,"i",7),m(8," Volver "),o(),n(9,"h1",8),m(10,"Prepagado Kia"),o(),n(11,"p",9),m(12,"\xBFD\xF3nde podemos enviarte la tarjeta de Prepagado?"),o()(),n(13,"div",10),u(14,Y,10,1,"div",11),u(15,Z,5,1,"div",11),u(16,$,5,1,"div",11),u(17,ee,5,1,"div",12),u(18,ie,5,1,"div",12),u(19,te,5,1,"div",12),u(20,ne,5,1,"div",12),o(),n(21,"div",13)(22,"button",14),w("click",function(){return c.guardarCliente()}),n(23,"span"),m(24,"Siguiente"),o(),b(25,"i",15),o()()()()()()),e&2&&(F("loading",c.cargando)("messageInput","Cargando..."),l(14),_(c.cliente.nombre?14:-1),l(),_(c.cliente.direccion?15:-1),l(),_(c.cliente.direccion?16:-1),l(),_(c.cliente.direccion?17:-1),l(),_(c.cliente.direccion?18:-1),l(),_(c.cliente.direccion?19:-1),l(),_(c.cliente.direccion?20:-1))},dependencies:[D,B,I,W,P,N,K,O,A,j,L,R,z,k],encapsulation:2})};export{Q as FormularioEnvio};
