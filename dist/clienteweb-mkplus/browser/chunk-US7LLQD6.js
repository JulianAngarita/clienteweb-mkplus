import{a as F}from"./chunk-VGJAMV7Y.js";import{a as M}from"./chunk-GN2ZQHZ5.js";import{v as G}from"./chunk-RRJ2G4CW.js";import{b as h,d as y,e as C,h as R,j as D,l as $,m as k,n as O,p as T,t as Y,v as N}from"./chunk-YPYZVSIH.js";import{a as g}from"./chunk-I2A4HNRV.js";import{s as x}from"./chunk-JJK3Y3Z5.js";import{Bb as _,Ea as l,Ob as r,Pb as u,Va as b,aa as v,jb as m,kb as p,lb as s,mb as o,nb as e,ob as c}from"./chunk-XFJKNVDY.js";import{f as w,h as E}from"./chunk-FJYW2LMB.js";var f=w(F());var S=(n,t)=>t.key;function H(n,t){if(n&1&&(o(0,"option",14),r(1),e()),n&2){let i=t.$implicit;s("value",i.value),l(),u(i.text)}}function A(n,t){if(n&1&&(o(0,"option",14),r(1),e()),n&2){let i=t.$implicit;s("value",i.value),l(),u(i.text)}}function P(n,t){if(n&1&&(o(0,"option",14),r(1),e()),n&2){let i=t.$implicit;s("value",i.value),l(),u(i.text)}}function V(n,t){if(n&1&&(o(0,"option",14),r(1),e()),n&2){let i=t.$implicit;s("value",i.value),l(),u(i.text)}}var I=class n{fb=v(Y);concesionarioService=v(M);utilidadesService=v(G);cargando=!1;listaGrupos=[];listaEstadoRedencion=[{key:0,text:"Todos",value:"TODOS"},{key:1,text:"Redimido",value:"Redimido"},{key:3,text:"Pendiente",value:"Pendiente"}];filtroSolicitudes=this.fb.group({desde:(0,f.default)().subtract(1,"month").format("YYYY-MM-DD"),hasta:(0,f.default)().format("YYYY-MM-DD"),asesor_cedula:"",concesionario_cl:"",concesionario_grupo:"TODOS",estado:"TODOS"});filtroServicios=this.fb.group({desde:(0,f.default)().subtract(1,"month").format("YYYY-MM-DD"),hasta:(0,f.default)().format("YYYY-MM-DD"),concesionario_grupo:"TODOS",estado:"TODOS"});ngOnInit(){this.consultaConcesiones()}consultaConcesiones(){return E(this,null,function*(){this.cargando=!0,this.concesionarioService.consultarcl().subscribe({next:t=>{if(this.cargando=!1,t.estatus){let i=t.data,a=[{key:0,text:"Todos",value:"TODOS"}];i.map(d=>{a.push({key:d.grupo,text:d.grupo,value:d.grupo})}),this.listaGrupos=a}},error:t=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Informaci\xF3n",t.error.resultadoOperacion,"Aceptar")}})})}descargarReporteSolicitudes(){let t=this.filtroSolicitudes.value,i=`${g.api}api/v1/reportes/reporte-solicitudes?desde=${t.desde}&hasta=${t.hasta}&asesor_cedula=${t.asesor_cedula}&concesionario_cl=${t.concesionario_cl}&concesionario_grupo=${t.concesionario_grupo}&estado=${t.estado}`;console.log(i),window.open(i)}descargarReporteServicios(){let t=this.filtroServicios.value,i=`${g.api}api/v1/reportes/reporte-servicios?desde=${t.desde}&hasta=${t.hasta}&concesionario_grupo=${t.concesionario_grupo}&estado=${t.estado}`;console.log(i),window.open(i)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=b({type:n,selectors:[["app-reportes"]],decls:70,vars:2,consts:[[1,"container-fluid","mt-5","mb-5","p-4",2,"min-height","70vh"],[1,"display-4","fw-bold","mb-4","mt-4"],[1,"card","border-dark","mb-4"],[1,"card-header","bg-dark","text-white","fs-4"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col"],["type","date","formControlName","desde",1,"form-control"],["type","date","formControlName","hasta",1,"form-control"],[1,"row","mt-3"],["type","text","formControlName","concesionario_cl",1,"form-control"],["type","text","formControlName","asesor_cedula",1,"form-control"],["formControlName","concesionario_grupo",1,"form-select"],[3,"value"],["formControlName","estado",1,"form-select"],[1,"btn","btn-dark","mt-3",3,"click"],[1,"card","border-dark"]],template:function(i,a){i&1&&(o(0,"div",0)(1,"h1",1),r(2,"Reportes"),e(),o(3,"div",2)(4,"div",3),r(5,"Solicitudes"),e(),o(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label"),r(11,"Desde"),e(),c(12,"input",8),e(),o(13,"div",7)(14,"label"),r(15,"Hasta"),e(),c(16,"input",9),e()(),o(17,"div",10)(18,"div",7)(19,"label"),r(20,"CL Concesionario"),e(),c(21,"input",11),e(),o(22,"div",7)(23,"label"),r(24,"C\xE9dula asesor"),e(),c(25,"input",12),e()(),o(26,"div",10)(27,"div",7)(28,"label"),r(29,"Grupo"),e(),o(30,"select",13),m(31,H,2,2,"option",14,S),e()(),o(33,"div",7)(34,"label"),r(35,"Estado"),e(),o(36,"select",15),m(37,A,2,2,"option",14,S),e()()()(),o(39,"button",16),_("click",function(){return a.descargarReporteSolicitudes()}),r(40,"Descargar"),e()()(),o(41,"div",17)(42,"div",3),r(43,"Servicios"),e(),o(44,"div",4)(45,"form",5)(46,"div",6)(47,"div",7)(48,"label"),r(49,"Desde"),e(),c(50,"input",8),e(),o(51,"div",7)(52,"label"),r(53,"Hasta"),e(),c(54,"input",9),e()(),o(55,"div",10)(56,"div",7)(57,"label"),r(58,"Grupo"),e(),o(59,"select",13),m(60,P,2,2,"option",14,S),e()(),o(62,"div",7)(63,"label"),r(64,"Estado"),e(),o(65,"select",15),m(66,V,2,2,"option",14,S),e()()()(),o(68,"button",16),_("click",function(){return a.descargarReporteServicios()}),r(69,"Descargar"),e()()()()),i&2&&(l(7),s("formGroup",a.filtroSolicitudes),l(24),p(a.listaGrupos),l(6),p(a.listaEstadoRedencion),l(8),s("formGroup",a.filtroServicios),l(15),p(a.listaGrupos),l(6),p(a.listaEstadoRedencion))},dependencies:[N,R,O,T,h,k,y,C,D,$,x],encapsulation:2})};export{I as Reportes};
