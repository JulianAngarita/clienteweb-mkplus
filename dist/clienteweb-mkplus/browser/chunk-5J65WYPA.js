import{a as te}from"./chunk-OCJP5YOU.js";import{a as k}from"./chunk-N4HQVL7A.js";import{b as $,c as ee}from"./chunk-3IL7TKSJ.js";import{a as Y}from"./chunk-3QEI6ENN.js";import{g as Z,h as J,p as K,u as X,v as T}from"./chunk-RRJ2G4CW.js";import{a as O,b as E,d as w,e as U,f as G,g as I,h as z,m as j,n as H,p as Q,u as W}from"./chunk-YPYZVSIH.js";import"./chunk-I2A4HNRV.js";import{f as B,i as V}from"./chunk-PTR2WAUU.js";import{s as v}from"./chunk-JJK3Y3Z5.js";import{Bb as f,Db as P,Ea as a,Ob as o,Pb as c,Qb as R,Va as h,Vb as u,Wb as p,Xb as s,aa as g,bc as L,fa as q,fb as A,ga as M,gb as D,hb as F,jb as S,kb as C,lb as _,mb as n,nb as t,ob as b,ub as y}from"./chunk-XFJKNVDY.js";import{h as N}from"./chunk-FJYW2LMB.js";function le(m,r){if(m&1&&(n(0,"option",15),o(1),t()),m&2){let l=r.$implicit;_("value",l.value),a(),c(l.text)}}function re(m,r){if(m&1){let l=y();n(0,"button",24),f("click",function(){q(l);let d=P();return M(d.crear())}),o(1," GUARDAR "),t()}}var x=class m{modalActivo=g(Z);paquetesService=g(k);utilidadesService=g(T);tipoPaqueteOpciones=te;evento="EVENTO_GUARDAR";paquete=structuredClone(ee);cargando=!1;crear=()=>{this.cargando=!0,this.paquetesService.crearPaquete(this.paquete).subscribe({next:r=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Informaci\xF3n",r.resultadoOperacion,"Aceptar"),this.modalActivo.close(r.estatus)},error:r=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Informaci\xF3n",r.error.resultadoOperacion,"Aceptar")}})};static \u0275fac=function(l){return new(l||m)};static \u0275cmp=h({type:m,selectors:[["app-modal-paquete"]],inputs:{evento:"evento"},decls:49,vars:8,consts:[["tabindex","-1","aria-modal","true","role","dialog",1,"modal","fade","show",2,"display","block"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],[1,"row","g-3","mb-3"],[1,"col-md-3"],[1,"form-label"],["name","nombre",1,"form-control",3,"ngModelChange","ngModel"],["name","descripcion",1,"form-control",3,"ngModelChange","ngModel"],["name","codigoPaquete",1,"form-control",3,"ngModelChange","ngModel"],["name","tipoPaquete",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["name","codigoModelo",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["name","descripcionModelo",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-5"],["name","versionModelo",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","boton-secondary-kia",3,"click"],["type","button",1,"btn","boton-principal-kia"],["type","button",1,"btn","boton-principal-kia",3,"click"]],template:function(l,i){l&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),o(5,"Formulario Paquetes"),t(),b(6,"button",5),t(),n(7,"div",6)(8,"form")(9,"h6",7),o(10,"Informaci\xF3n del paquete"),t(),n(11,"div",8)(12,"div",9)(13,"label",10),o(14,"Nombre"),t(),n(15,"input",11),s("ngModelChange",function(e){return p(i.paquete.nombre,e)||(i.paquete.nombre=e),e}),t()(),n(16,"div",9)(17,"label",10),o(18,"Descripci\xF3n"),t(),n(19,"input",12),s("ngModelChange",function(e){return p(i.paquete.descripcion,e)||(i.paquete.descripcion=e),e}),t()(),n(20,"div",9)(21,"label",10),o(22,"C\xF3digo"),t(),n(23,"input",13),s("ngModelChange",function(e){return p(i.paquete.codigoPaquete,e)||(i.paquete.codigoPaquete=e),e}),t()(),n(24,"div",9)(25,"label",10),o(26,"Tipo"),t(),n(27,"select",14),s("ngModelChange",function(e){return p(i.paquete.tipoPaquete,e)||(i.paquete.tipoPaquete=e),e}),S(28,le,2,2,"option",15,F),t()()(),n(30,"h6",7),o(31,"Modelo al que aplica"),t(),n(32,"div",8)(33,"div",9)(34,"label",10),o(35,"C\xF3digo"),t(),n(36,"input",16),s("ngModelChange",function(e){return p(i.paquete.modelo.codigo,e)||(i.paquete.modelo.codigo=e),e}),t()(),n(37,"div",17)(38,"label",10),o(39,"Descripci\xF3n"),t(),n(40,"input",18),s("ngModelChange",function(e){return p(i.paquete.modelo.descripcion,e)||(i.paquete.modelo.descripcion=e),e}),t()(),n(41,"div",19)(42,"label",10),o(43,"Versi\xF3n"),t(),n(44,"input",20),s("ngModelChange",function(e){return p(i.paquete.modelo.version,e)||(i.paquete.modelo.version=e),e}),t()()()()(),n(45,"div",21)(46,"button",22),f("click",function(){return i.modalActivo.close(!1)}),o(47," CANCELAR "),t(),A(48,re,2,0,"button",23),t()()()()),l&2&&(a(15),u("ngModel",i.paquete.nombre),a(4),u("ngModel",i.paquete.descripcion),a(4),u("ngModel",i.paquete.codigoPaquete),a(4),u("ngModel",i.paquete.tipoPaquete),a(),C(i.tipoPaqueteOpciones),a(8),u("ngModel",i.paquete.modelo.codigo),a(4),u("ngModel",i.paquete.modelo.descripcion),a(4),u("ngModel",i.paquete.modelo.version),a(4),D(i.evento==="EVENTO_GUARDAR"?48:-1))},dependencies:[W,z,H,Q,E,j,w,U,I,G,v],encapsulation:2})};var de=m=>["/admin/detalles",m],me=(m,r)=>r._id;function ue(m,r){if(m&1){let l=y();n(0,"tr")(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td"),o(8),t(),n(9,"td"),o(10),t(),n(11,"td"),o(12),t(),n(13,"td"),o(14),t(),n(15,"td"),o(16),t(),n(17,"td")(18,"button",31),b(19,"i",32),o(20," Editar "),t(),n(21,"button",33),f("click",function(){let d=q(l).$implicit,e=P();return M(e.eliminar(d))}),b(22,"i",34),t()()()}if(m&2){let l=r.$implicit;a(2),c(l.nombre),a(2),c(l.descripcion),a(2),c(l.codigoPaquete),a(2),c(l.tipoPaquete),a(2),c(l.estatus.nombre),a(2),c(l.modelo.codigo),a(2),c(l.modelo.version),a(2),c(l.modelo.descripcion),a(2),_("routerLink",L(9,de,l._id??""))}}function pe(m,r){m&1&&(n(0,"tr")(1,"td",35),o(2," No hay paquetes registrados. "),t()())}var ie=class m{utilidadesService=g(T);paquetesService=g(k);modalService=g(J);paquetes=[];total=0;pagina=0;cargando=!1;filtro=structuredClone($);consulta=()=>{this.cargando=!0,this.paquetesService.consultarPaquete(this.filtro).subscribe({next:r=>{this.cargando=!1,r.estatus?(this.paquetes=r.data.paquetes,this.total=r.data.total):this.utilidadesService.abrirModalInfo("Informaci\xF3n",r.resultadoOperacion,"Aceptar")}})};cambiarPagina=r=>{this.filtro.salto=(r-1)*this.filtro.limite,this.consulta()};crear=()=>N(this,null,function*(){(yield this.modalService.open(x,{centered:!0}).result)&&this.consulta()});eliminar=r=>{};static \u0275fac=function(l){return new(l||m)};static \u0275cmp=h({type:m,selectors:[["app-paquetes"]],decls:66,vars:15,consts:[[3,"messageInput","loading"],[1,"container-fluid","p-5","mt-5",2,"min-height","70vh"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","text-dark","mb-1"],[1,"text-muted","mb-0"],[1,"btn","boton-principal-kia",3,"click"],[1,"card","border-0","rounded-3","mb-4","shadow-sm"],[1,"card-body"],[1,"fw-semibold","mb-3"],[1,"row","g-3"],[1,"col-md-3"],["placeholder","C\xF3digo del Paquete",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","Nombre del Paquete",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n del Paquete",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","C\xF3digo del Modelo",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],[1,"col-md-6"],["placeholder","Descripci\xF3n del Modelo",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","Versi\xF3n",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],[1,"col-md-3","d-flex","align-items-center"],[1,"form-check","form-switch","ms-auto"],["type","checkbox","id","switchActivo",1,"form-check-input",3,"ngModelChange","ngModel"],["for","switchActivo",1,"form-check-label","fw-medium"],[1,"col-12","text-end"],[1,"btn","boton-secondary-kia","px-4",3,"click"],[1,"card","border-0","shadow-sm","rounded-4"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","text-center","align-middle","mb-0"],[1,"table-light"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[3,"pageChange","collectionSize","pageSize","maxSize","page"],[1,"btn","btn-outline-dark","rounded-pill","px-3","me-2",3,"routerLink"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-outline-secondary","rounded-pill","px-3",3,"click"],[1,"fa-solid","fa-trash"],["colspan","9",1,"py-4","text-muted"]],template:function(l,i){l&1&&(b(0,"app-loading-screen",0),n(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),o(5,"Paquetes"),t(),n(6,"p",4),o(7," Gesti\xF3n y administraci\xF3n de paquetes registrados en la plataforma. "),t()(),n(8,"button",5),f("click",function(){return i.crear()}),o(9," Nuevo paquete "),t()(),n(10,"div",6)(11,"div",7)(12,"h6",8),o(13,"Filtrar por"),t(),n(14,"div",9)(15,"div",10)(16,"input",11),s("ngModelChange",function(e){return p(i.filtro.codigoPaquete,e)||(i.filtro.codigoPaquete=e),e}),t()(),n(17,"div",10)(18,"input",12),s("ngModelChange",function(e){return p(i.filtro.nombre,e)||(i.filtro.nombre=e),e}),t()(),n(19,"div",10)(20,"input",13),s("ngModelChange",function(e){return p(i.filtro.descripcion,e)||(i.filtro.descripcion=e),e}),t()(),n(21,"div",10)(22,"input",14),s("ngModelChange",function(e){return p(i.filtro.modelo.codigo,e)||(i.filtro.modelo.codigo=e),e}),t()(),n(23,"div",15)(24,"input",16),s("ngModelChange",function(e){return p(i.filtro.descripcion,e)||(i.filtro.descripcion=e),e}),t()(),n(25,"div",10)(26,"input",17),s("ngModelChange",function(e){return p(i.filtro.modelo.version,e)||(i.filtro.modelo.version=e),e}),t()(),n(27,"div",18)(28,"div",19)(29,"input",20),s("ngModelChange",function(e){return p(i.filtro.activo,e)||(i.filtro.activo=e),e}),t(),n(30,"label",21),o(31," Activos "),t()()(),n(32,"div",22)(33,"button",23),f("click",function(){return i.consulta()}),o(34," Buscar "),t()()()()(),n(35,"div",24)(36,"div",25)(37,"table",26)(38,"thead",27)(39,"tr")(40,"th"),o(41,"NOMBRE"),t(),n(42,"th"),o(43,"DESCRIPCI\xD3N"),t(),n(44,"th"),o(45,"C\xD3DIGO DE PAQUETE"),t(),n(46,"th"),o(47,"TIPO DE PAQUETE"),t(),n(48,"th"),o(49,"ESTATUS"),t(),n(50,"th"),o(51,"C\xD3DIGO"),t(),n(52,"th"),o(53,"VERSI\xD3N"),t(),n(54,"th"),o(55,"DESCRIPCI\xD3N"),t(),n(56,"th"),o(57,"ACCIONES"),t()()(),n(58,"tbody"),S(59,ue,23,11,"tr",null,me,!1,pe,3,0,"tr"),t()()(),n(62,"div",28)(63,"div",29),o(64),t(),n(65,"ngb-pagination",30),f("pageChange",function(e){return i.cambiarPagina(e)}),s("pageChange",function(e){return p(i.pagina,e)||(i.pagina=e),e}),t()()()()),l&2&&(_("messageInput","Cargando...")("loading",i.cargando),a(16),u("ngModel",i.filtro.codigoPaquete),a(2),u("ngModel",i.filtro.nombre),a(2),u("ngModel",i.filtro.descripcion),a(2),u("ngModel",i.filtro.modelo.codigo),a(2),u("ngModel",i.filtro.descripcion),a(2),u("ngModel",i.filtro.modelo.version),a(3),u("ngModel",i.filtro.activo),a(30),C(i.paquetes),a(5),R(" Mostrando ",i.paquetes.length," paquete(s) "),a(),_("collectionSize",i.total)("pageSize",i.filtro.limite)("maxSize",10),u("page",i.pagina))},dependencies:[W,E,O,w,I,v,Y,X,K,V,B],encapsulation:2})};export{ie as Paquetes};
