import{a as ue,b as ge,c as N}from"./chunk-XXQBI5GV.js";import{a as H,b as G,c as J}from"./chunk-H6BPOFLQ.js";import{a as me}from"./chunk-3QEI6ENN.js";import{g as j,h as de,p as ce,r as pe,u as U,v as k}from"./chunk-RRJ2G4CW.js";import{a as F,b as B,d as L,e as te,f as ie,g as z,h as ne,i as oe,m as ae,n as re,p as le,s as se,u as T}from"./chunk-YPYZVSIH.js";import"./chunk-I2A4HNRV.js";import{n as $,r as ee,s as O}from"./chunk-JJK3Y3Z5.js";import{Bb as u,Db as b,Ea as l,Ob as i,Pb as g,Qb as f,Va as I,Vb as c,Wb as p,Xb as m,aa as _,fa as x,fb as A,fc as D,ga as y,gb as w,hb as S,hc as Q,ic as X,jb as v,kb as h,lb as R,mb as t,nb as e,oa as M,ob as C,rc as Y,ub as P}from"./chunk-XFJKNVDY.js";import{a as K,h as V}from"./chunk-FJYW2LMB.js";function Se(s,r){if(s&1&&(t(0,"option",16),i(1),e()),s&2){let o=r.$implicit;R("value",o.value),l(),g(o.text)}}function Ce(s,r){if(s&1&&(t(0,"option",16),i(1),e()),s&2){let o=r.$implicit;R("value",o.value),l(),g(o.text)}}function Re(s,r){if(s&1&&(t(0,"option",16),i(1),e()),s&2){let o=r.$implicit;R("value",o.value),l(),g(o.text)}}function Ee(s,r){if(s&1){let o=P();t(0,"button",31),u("click",function(){x(o);let d=b();return y(d.actualizar())}),i(1),e()}if(s&2){let o=b();l(),f(" ",o.cargando?"Actualizando...":"Actualizar"," ")}}function Me(s,r){if(s&1){let o=P();t(0,"button",31),u("click",function(){x(o);let d=b();return y(d.guardar())}),i(1),e()}if(s&2){let o=b();l(),f(" ",o.cargando?"Guardando...":"Guardar"," ")}}var W=class s{repuestosService=_(N);utilidadesService=_(k);modalActivo=_(j);evento="EVENTO_GUARDAR";datosRepuestos=Object.assign({},ue);cargando=!1;tipoAireAcondicionado=J;tipoCombustible=G;tipoTransmision=H;guardar=()=>{this.cargando=!0,this.repuestosService.crearRepuesto(this.datosRepuestos).subscribe({next:r=>{r.estatus?this.utilidadesService.abrirModalInfo("Informaci\xF3n",`Repuesto ${this.datosRepuestos.descripcion} creado con \xE9xito.`,"Aceptar"):this.utilidadesService.abrirModalInfo("Informaci\xF3n",r.resultadoOperacion,"Aceptar"),this.cargando=!1,this.modalActivo.close(!0)},error:r=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Informaci\xF3n",r.error.resultadoOperacion,"Aceptar")}})};actualizar=()=>{this.cargando=!0,this.datosRepuestos.precioAnterior.fecha===null&&(this.datosRepuestos.precioAnterior.fecha=""),delete this.datosRepuestos.creado,delete this.datosRepuestos.actualizado,"__v"in this.datosRepuestos&&delete this.datosRepuestos.__v,"editado"in this.datosRepuestos&&delete this.datosRepuestos.editado,this.repuestosService.actualizarRepuesto(this.datosRepuestos).subscribe({next:r=>{r.estatus?this.utilidadesService.abrirModalInfo("Informaci\xF3n",`Repuesto ${this.datosRepuestos.descripcion} actualizado con \xE9xito.`,"Aceptar"):this.utilidadesService.abrirModalInfo("Informaci\xF3n","No se ha podido actualizar el repuesto.","Aceptar"),this.cargando=!1,this.modalActivo.close(!0)}})};static \u0275fac=function(o){return new(o||s)};static \u0275cmp=I({type:s,selectors:[["app-modal-repuestos"]],inputs:{evento:"evento",datosRepuestos:"datosRepuestos"},decls:86,vars:15,consts:[["tabindex","-1","aria-modal","true","role","dialog",1,"modal","fade","show",2,"display","block"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"row","g-3","mb-3"],[1,"col-md-3"],[1,"form-label"],["name","referencia",1,"form-control",3,"ngModelChange","ngModel"],["name","descripcion",1,"form-control",3,"ngModelChange","ngModel"],["name","pnc",1,"form-control",3,"ngModelChange","ngModel"],["maxlength","3","name","modelo",1,"form-control",3,"ngModelChange","ngModel"],["name","aireAcondicionado",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["name","tipoCombustible",1,"form-select",3,"ngModelChange","ngModel"],["name","transmision",1,"form-select",3,"ngModelChange","ngModel"],["type","number","name","cilindrada",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["type","number","name","publico",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","concesionario",1,"form-control",3,"ngModelChange","ngModel"],["name","precioVentaConcesionario",1,"form-control",3,"ngModelChange","ngModel"],["name","precioVentaPublico",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","form-switch"],["type","checkbox","id","activoToggle","name","activo",1,"form-check-input",3,"ngModelChange","ngModel"],["for","activoToggle",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","boton-secondary-kia",3,"click"],["type","button",1,"btn","boton-principal-kia"],["type","button",1,"btn","boton-principal-kia",3,"click"]],template:function(o,n){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),i(5," Formulario Repuestos "),e(),t(6,"button",5),u("click",function(){return n.modalActivo.close(!1)}),e()(),t(7,"div",6)(8,"form")(9,"h6",7),i(10,"Datos"),e(),t(11,"div",8)(12,"div",9)(13,"label",10),i(14,"Referencia"),e(),t(15,"input",11),m("ngModelChange",function(a){return p(n.datosRepuestos.referencia,a)||(n.datosRepuestos.referencia=a),a}),e()(),t(16,"div",9)(17,"label",10),i(18,"Descripci\xF3n"),e(),t(19,"input",12),m("ngModelChange",function(a){return p(n.datosRepuestos.descripcion,a)||(n.datosRepuestos.descripcion=a),a}),e()(),t(20,"div",9)(21,"label",10),i(22,"PNC"),e(),t(23,"input",13),m("ngModelChange",function(a){return p(n.datosRepuestos.pnc,a)||(n.datosRepuestos.pnc=a),a}),e()(),t(24,"div",9)(25,"label",10),i(26,"Modelo"),e(),t(27,"input",14),m("ngModelChange",function(a){return p(n.datosRepuestos.modelo,a)||(n.datosRepuestos.modelo=a),a}),e()()(),t(28,"h6",7),i(29,"Caracter\xEDsticas"),e(),t(30,"div",8)(31,"div",9)(32,"label",10),i(33,"Aire Acondicionado"),e(),t(34,"select",15),m("ngModelChange",function(a){return p(n.datosRepuestos.caracteristicas.aireAcondicionado,a)||(n.datosRepuestos.caracteristicas.aireAcondicionado=a),a}),v(35,Se,2,2,"option",16,S),e()(),t(37,"div",9)(38,"label",10),i(39,"Tipo Combustible"),e(),t(40,"select",17),m("ngModelChange",function(a){return p(n.datosRepuestos.caracteristicas.tipoCombustible,a)||(n.datosRepuestos.caracteristicas.tipoCombustible=a),a}),v(41,Ce,2,2,"option",16,S),e()(),t(43,"div",9)(44,"label",10),i(45,"Transmisi\xF3n"),e(),t(46,"select",18),m("ngModelChange",function(a){return p(n.datosRepuestos.caracteristicas.transmision,a)||(n.datosRepuestos.caracteristicas.transmision=a),a}),v(47,Re,2,2,"option",16,S),e()(),t(49,"div",9)(50,"label",10),i(51,"Cilindrada"),e(),t(52,"input",19),m("ngModelChange",function(a){return p(n.datosRepuestos.caracteristicas.cilindrada,a)||(n.datosRepuestos.caracteristicas.cilindrada=a),a}),e()()(),t(53,"h6",7),i(54,"Precio Venta"),e(),t(55,"div",8)(56,"div",20)(57,"label",10),i(58,"P\xFAblico"),e(),t(59,"input",21),m("ngModelChange",function(a){return p(n.datosRepuestos.precioVenta.publico,a)||(n.datosRepuestos.precioVenta.publico=a),a}),e()(),t(60,"div",20)(61,"label",10),i(62,"Concesionario"),e(),t(63,"input",22),m("ngModelChange",function(a){return p(n.datosRepuestos.precioVenta.concesionario,a)||(n.datosRepuestos.precioVenta.concesionario=a),a}),e()()(),t(64,"h6",7),i(65,"Margen"),e(),t(66,"div",8)(67,"div",20)(68,"label",10),i(69,"Precio Venta Concesionario"),e(),t(70,"input",23),m("ngModelChange",function(a){return p(n.datosRepuestos.margen.precioVentaConcesionario,a)||(n.datosRepuestos.margen.precioVentaConcesionario=a),a}),e()(),t(71,"div",20)(72,"label",10),i(73,"Precio Venta P\xFAblico"),e(),t(74,"input",24),m("ngModelChange",function(a){return p(n.datosRepuestos.margen.precioVentaPublico,a)||(n.datosRepuestos.margen.precioVentaPublico=a),a}),e()()(),t(75,"h6",7),i(76,"Activaci\xF3n del Repuesto"),e(),t(77,"div",25)(78,"input",26),m("ngModelChange",function(a){return p(n.datosRepuestos.activo,a)||(n.datosRepuestos.activo=a),a}),e(),t(79,"label",27),i(80," Si est\xE1 desactivado no estar\xE1 disponible "),e()()()(),t(81,"div",28)(82,"button",29),u("click",function(){return n.modalActivo.close(!1)}),i(83," CANCELAR "),e(),A(84,Ee,2,1,"button",30),A(85,Me,2,1,"button",30),e()()()()),o&2&&(l(15),c("ngModel",n.datosRepuestos.referencia),l(4),c("ngModel",n.datosRepuestos.descripcion),l(4),c("ngModel",n.datosRepuestos.pnc),l(4),c("ngModel",n.datosRepuestos.modelo),l(7),c("ngModel",n.datosRepuestos.caracteristicas.aireAcondicionado),l(),h(n.tipoAireAcondicionado),l(5),c("ngModel",n.datosRepuestos.caracteristicas.tipoCombustible),l(),h(n.tipoCombustible),l(5),c("ngModel",n.datosRepuestos.caracteristicas.transmision),l(),h(n.tipoTransmision),l(5),c("ngModel",n.datosRepuestos.caracteristicas.cilindrada),l(7),c("ngModel",n.datosRepuestos.precioVenta.publico),l(4),c("ngModel",n.datosRepuestos.precioVenta.concesionario),l(7),c("ngModel",n.datosRepuestos.margen.precioVentaConcesionario),l(4),c("ngModel",n.datosRepuestos.margen.precioVentaPublico),l(4),c("ngModel",n.datosRepuestos.activo),l(6),w(n.evento==="EVENTO_ACTUALIZAR"?84:-1),l(),w(n.evento==="EVENTO_GUARDAR"?85:-1))},dependencies:[T,ne,re,le,B,oe,F,ae,L,te,se,z,ie],encapsulation:2})};var _e=s=>{if(!s.trim())return JSON.stringify([]);let r=s.split(`
`).filter(d=>d.trim()!==""),o=[],n=r[0].split(",").map(d=>d.trim());for(let d=1;d<r.length;d++){let a={},Z=r[d].split(",");for(let E=0;E<n.length;E++)a[n[E]]=(Z[E]||"").trim();o.push(a)}return JSON.stringify(o)};function Ie(s,r){if(s&1&&(t(0,"li")(1,"strong"),i(2),e(),i(3),e()),s&2){let o=r.$implicit;l(2),f("",o.value,":"),l(),f(" ",o.text," ")}}function Ae(s,r){if(s&1&&(t(0,"p")(1,"strong"),i(2),e(),C(3,"br"),t(4,"span"),i(5),e()(),t(6,"ul"),v(7,Ie,4,2,"li",null,S),e()),s&2){let o=r.$implicit;l(2),g(o.variable),l(3),g(o.descripcion),l(2),h(o.claves)}}function we(s,r){if(s&1&&(t(0,"div",5)(1,"strong"),i(2,"Encabezados Archivo .csv"),e(),t(3,"p"),i(4," El archivo debe ser .csv, separado por comas (,) y su estructura debe ser la siguiente: "),e(),t(5,"div",18)(6,"table",19)(7,"thead")(8,"tr")(9,"th"),i(10,"modelo"),e(),t(11,"th"),i(12,"pnc"),e(),t(13,"th"),i(14,"referencia"),e(),t(15,"th"),i(16,"descripcion"),e(),t(17,"th"),i(18,"activo"),e(),t(19,"th"),i(20,"iva"),e(),t(21,"th"),i(22,"aireAcondicionado"),e(),t(23,"th"),i(24,"cilindrada"),e(),t(25,"th"),i(26,"tipoCombustible"),e(),t(27,"th"),i(28,"transmision"),e(),t(29,"th"),i(30,"publico"),e(),t(31,"th"),i(32,"concesionario"),e(),t(33,"th"),i(34,"margenPublico"),e(),t(35,"th"),i(36,"margenConcesionario"),e()()(),t(37,"tbody")(38,"tr")(39,"td"),i(40,"JA"),e(),t(41,"td"),i(42,"198000"),e(),t(43,"td"),i(44,"198000123"),e(),t(45,"td"),i(46,"Pastilla"),e(),t(47,"td"),i(48,"1: Activo, 0: Inactivo"),e(),t(49,"td"),i(50,"1: Se le calcula IVA, 0: No se le calcula IVA"),e(),t(51,"td"),i(52,"Descripci\xF3n abajo"),e(),t(53,"td"),i(54,"Max 2 d\xEDgitos"),e(),t(55,"td"),i(56,"Descripci\xF3n abajo"),e(),t(57,"td"),i(58,"Descripci\xF3n abajo"),e(),t(59,"td"),i(60,"Precio p\xFAblico sin s\xEDmbolos"),e(),t(61,"td"),i(62,"Precio concesionario sin s\xEDmbolos"),e(),t(63,"td"),i(64,"Valor entero"),e(),t(65,"td"),i(66,"Valor entero"),e()()()()(),v(67,Ae,9,2,null,null,S),e()),s&2){let o=b();l(67),h(o.indicaciones)}}function Te(s,r){if(s&1&&(t(0,"th"),i(1),e()),s&2){let o=r.$implicit;l(),g(o)}}function ke(s,r){if(s&1&&(t(0,"td"),i(1),e()),s&2){let o=r.$implicit,n=b().$implicit;l(),f(" ",n[o]," ")}}function Ne(s,r){if(s&1&&(t(0,"tr"),v(1,ke,2,1,"td",null,S),e()),s&2){let o=b(2);l(),h(o.headers())}}function Pe(s,r){if(s&1&&(t(0,"div",14)(1,"table",20)(2,"thead")(3,"tr"),v(4,Te,2,1,"th",null,S),e()(),t(6,"tbody"),v(7,Ne,3,0,"tr",null,S),D(9,"slice"),e()()()),s&2){let o=b();l(4),h(o.headers()),l(3),h(X(9,0,o.repuestos(),0,5))}}var q=class s{modalActivo=_(j);repuestosService=_(N);utilidadesService=_(k);verInstrucciones=M(!1);nombreArchivo=M("");iniciarCarga=M(!1);totalRegistros=M(0);totalRegistrosProcesados=M(0);repuestos=M([]);headers=M([]);indicaciones=[{variable:"tipoCombustible",descripcion:"Claves v\xE1lidas para tipo de combustible",claves:G},{variable:"aireAcondicionado",descripcion:"Claves v\xE1lidas para el aire acondicionado",claves:J},{variable:"transmision",descripcion:"Claves v\xE1lidas para la transmisi\xF3n",claves:H}];constructor(){Y(()=>{this.totalRegistros()>0&&this.iniciarCarga()&&this.cargarRepuestoActual()})}handleFile(r){let n=r.target.files?.[0];if(!n||n.type!=="text/csv"){alert('Debe elegir un archivo .csv separado por comas ","'),this.repuestos.set([]),this.nombreArchivo.set("");return}this.nombreArchivo.set(n.name);let d=new FileReader;d.onload=a=>{let Z=a.target?.result,E=JSON.parse(_e(Z));this.repuestos.set(E),this.headers.set(Object.keys(E[0]??{})),this.totalRegistros.set(E.length)},d.readAsText(n)}cargarRepuestoActual(){let r=this.totalRegistros();if(r===0){this.iniciarCarga.set(!1);return}let o=structuredClone(this.repuestos()[r-1]),n=this.mapearRepuesto(o);this.repuestosService.crearRepuesto(n).subscribe({error:d=>this.utilidadesService.abrirModalInfo("Informaci\xF3n",d.error.resultadoOperacion,"Aceptar")}),this.totalRegistros.set(r-1),this.totalRegistrosProcesados.update(d=>d+1)}mapearRepuesto(r){let o=K({},r);return o.activo=Number(r.activo)===1,o.iva=Number(r.iva)===1,o.caracteristicas={tipoCombustible:r.tipoCombustible,aireAcondicionado:r.aireAcondicionado,transmision:r.transmision,cilindrada:Number(r.cilindrada)},delete o.tipoCombustible,delete o.aireAcondicionado,delete o.transmision,delete o.cilindrada,o.precioVenta={publico:Number(r.publico),concesionario:Number(r.concesionario)},delete o.publico,delete o.concesionario,o.margen={precioVentaConcesionario:r.margenConcesionario??"0",precioVentaPublico:r.margenPublico??"0"},delete o.margenConcesionario,delete o.margenPublico,o}cerrar(){this.modalActivo.close()}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=I({type:s,selectors:[["app-modal-repuestos-csv"]],decls:26,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],[1,"bi","bi-file-earmark","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"card","p-3","mb-3"],[1,"input-group"],["for","inputCsv",1,"input-group-text"],[1,"bi","bi-file-earmark"],["id","inputCsv","type","file","accept",".csv",1,"form-control",3,"change"],[1,"input-group-text"],[1,"btn","btn-sm","btn-info","mt-2",3,"click"],[1,"bi","bi-info-circle"],["type","info","height","12px",1,"mb-3",3,"value","max"],["lass","table-responsive mb-3"],[1,"modal-footer"],[1,"btn","boton-secondary-kia","btn-sm",3,"click"],[1,"btn","boton-principal-kia","btn-sm",3,"click"],[1,"table-responsive","mt-2","mb-3"],[1,"table","table-striped","table-bordered","table-sm","text-center"],[1,"table","table-bordered","table-striped","table-sm"]],template:function(o,n){o&1&&(t(0,"div",0)(1,"h5",1),C(2,"i",2),i(3," Carga repuestos CSV "),e(),t(4,"button",3),u("click",function(){return n.cerrar()}),e()(),t(5,"div",4)(6,"div",5)(7,"p"),i(8,"Por favor elija un documento (CSV)"),e(),t(9,"div",6)(10,"label",7),C(11,"i",8),e(),t(12,"input",9),u("change",function(a){return n.handleFile(a)}),e(),t(13,"span",10),i(14),e()(),t(15,"button",11),u("click",function(){return n.verInstrucciones.set(!n.verInstrucciones())}),C(16,"i",12),i(17),e()(),C(18,"ngb-progressbar",13),A(19,we,69,0,"div",5),A(20,Pe,10,4,"div",14),e(),t(21,"div",15)(22,"button",16),u("click",function(){return n.cerrar()}),i(23," Cancelar "),e(),t(24,"button",17),u("click",function(){return n.iniciarCarga.set(!0)}),i(25," Cargar "),e()()),o&2&&(l(14),f(" ",n.nombreArchivo()||"Elige .csv"," "),l(3),f(" ",n.verInstrucciones()?"Ocultar instrucciones":"Instrucciones"," "),l(),R("value",n.totalRegistrosProcesados())("max",n.totalRegistros()),l(),w(n.verInstrucciones()?19:-1),l(),w(n.repuestos()&&n.repuestos.length>0?20:-1))},dependencies:[U,pe,O,T,ee],encapsulation:2})};var We=(s,r)=>r._id;function Ve(s,r){if(s&1){let o=P();t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e(),t(11,"td"),i(12),e(),t(13,"td"),i(14),e(),t(15,"td"),i(16),e(),t(17,"td"),i(18),e(),t(19,"td"),i(20),e(),t(21,"td"),i(22),e(),t(23,"td"),i(24),e(),t(25,"td"),i(26),D(27,"date"),e(),t(28,"td")(29,"button",30),u("click",function(){let d=x(o).$implicit,a=b();return y(a.actualizar(d))}),C(30,"i",31),e(),t(31,"button",32),u("click",function(){let d=x(o).$implicit,a=b();return y(a.eliminarRepuesto(d))}),C(32,"i",33),e()()()}if(s&2){let o=r.$implicit;l(2),g(o.modelo),l(2),g(o.referencia),l(2),g(o.descripcion),l(2),g(o.pnc),l(2),g(o.caracteristicas.aireAcondicionado),l(2),g(o.caracteristicas.cilindrada),l(2),g(o.caracteristicas.tipoCombustible),l(2),g(o.caracteristicas.transmision),l(2),f("$ ",o.precioVenta.publico),l(2),f("$ ",o.precioVenta.concesionario),l(2),f("$ ",o.precioAnterior.publico),l(2),f("$ ",o.precioAnterior.concesionario),l(2),g(Q(27,13,o.precioAnterior.fecha,"dd-MM-yyyy hh:mm aa"))}}function De(s,r){s&1&&(t(0,"tr")(1,"td",34),i(2," No hay repuestos registrados actualmente. "),e()())}var ve=class s{repuestoService=_(N);utilidadesService=_(k);modalService=_(de);repuestos=[];filtro=Object.assign({},ge);pagina=1;total=0;cargando=!1;ngOnInit(){this.consultar()}cambiarPagina=r=>{this.filtro.salto=(r-1)*this.filtro.limite,this.consultar()};crear=()=>V(this,null,function*(){let r=this.modalService.open(W,{centered:!0,size:"xl"});r.componentInstance.evento="EVENTO_GUARDAR",(yield r.result)&&this.consultar()});cargarRepuestos=()=>V(this,null,function*(){(yield this.modalService.open(q,{centered:!0,size:"xl"}).result)&&this.consultar()});actualizar=r=>V(this,null,function*(){let o=this.modalService.open(W,{centered:!0,size:"xl"});o.componentInstance.evento="EVENTO_ACTUALIZAR",o.componentInstance.datosRepuestos=r,(yield o.result)&&this.consultar()});eliminarRepuesto=r=>{this.utilidadesService.abrirModalConfirmacion("Eliminar repuesto",`Estas seguro que quieres eliminar el repuesto ${r.descripcion}?`,"Eliminar","Cancelar").then(o=>{o&&this.eliminar(r._id??"")})};eliminar=r=>{this.cargando=!0,this.repuestoService.eliminarRepuesto({id:r}).subscribe({next:o=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Informaci\xF3n",o.resultadoOperacion,"Aceptar"),o.estatus&&this.consultar()},error:o=>{this.utilidadesService.abrirModalInfo("Informaci\xF3n",o.error.resultadoOperacion,"Aceptar")}})};consultar=()=>{this.cargando=!0,this.repuestoService.consultarRepuestos(this.filtro).subscribe({next:r=>{r.estatus&&(this.repuestos=r.data.repuestos,this.total=r.data.total),this.cargando=!1},error:r=>{this.cargando=!1,this.utilidadesService.abrirModalInfo("Informaci\xF3n",r.error.resultadoOperacion,"Aceptar")}})};static \u0275fac=function(o){return new(o||s)};static \u0275cmp=I({type:s,selectors:[["app-repuestos"]],decls:80,vars:13,consts:[[3,"messageInput","loading"],[1,"container-fluid","p-5","mt-5",2,"min-height","70vh"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"fw-bold","text-dark","mb-1"],[1,"text-muted","mb-0"],[1,"d-flex","gap-2"],[1,"btn","boton-secondary-kia",3,"click"],[1,"btn","boton-principal-kia",3,"click"],[1,"card","border-0","rounded-3","mb-4","shadow-sm"],[1,"card-body","d-flex","flex-wrap","align-items-center","gap-3"],[1,"fw-semibold","mb-0"],[1,"flex-grow-1",2,"min-width","220px"],["placeholder","Modelo",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","Referencia",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","Descripci\xF3n",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],["placeholder","PNC",1,"form-control","rounded-pill","px-3",3,"ngModelChange","ngModel"],[1,"form-check","form-switch","d-flex","align-items-center","gap-2"],["type","checkbox","role","switch","id","estadoModelo",1,"form-check-input",3,"ngModelChange","ngModel"],["for","estadoModelo",1,"form-check-label","fw-medium"],[1,"btn","btn-outline-dark","rounded-pill","px-4",3,"click"],[1,"card","border-0","shadow-sm","rounded-4"],[1,"table-responsive"],[1,"table","table-striped","table-bordered","text-center","align-middle","mb-0"],["rowspan","2"],["colspan","4"],["colspan","2"],["colspan","3"],[1,"card-footer","d-flex","justify-content-between","align-items-center"],[1,"text-muted"],["aria-label","Default pagination",3,"pageChange","collectionSize","pageSize","maxSize","page"],[1,"btn","btn-outline-dark","rounded-pill","px-3","d-inline-flex","align-items-center","gap-2",3,"click"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-outline-secondary","rounded-pill","px-3","d-inline-flex","align-items-center","gap-2",3,"click"],[1,"fa-solid","fa-trash"],["colspan","14",1,"text-center","py-4","text-muted"]],template:function(o,n){o&1&&(C(0,"app-loading-screen",0),t(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),i(5,"Repuestos"),e(),t(6,"p",4),i(7," Gesti\xF3n y administraci\xF3n de repuestos registrados en la plataforma. "),e()(),t(8,"div",5)(9,"button",6),u("click",function(){return n.cargarRepuestos()}),i(10," Cargar repuestos CSV "),e(),t(11,"button",7),u("click",function(){return n.crear()}),i(12," Nuevo repuesto "),e()()(),t(13,"div",8)(14,"div",9)(15,"h6",10),i(16,"Filtrar por:"),e(),t(17,"div",11)(18,"input",12),m("ngModelChange",function(a){return p(n.filtro.modelo,a)||(n.filtro.modelo=a),a}),e()(),t(19,"div",11)(20,"input",13),m("ngModelChange",function(a){return p(n.filtro.referencia,a)||(n.filtro.referencia=a),a}),e()(),t(21,"div",11)(22,"input",14),m("ngModelChange",function(a){return p(n.filtro.descripcion,a)||(n.filtro.descripcion=a),a}),e()(),t(23,"div",11)(24,"input",15),m("ngModelChange",function(a){return p(n.filtro.pnc,a)||(n.filtro.pnc=a),a}),e()(),t(25,"div",11)(26,"div",16)(27,"input",17),m("ngModelChange",function(a){return p(n.filtro.activo,a)||(n.filtro.activo=a),a}),e(),t(28,"label",18),i(29," Estado del Repuesto "),e()()(),t(30,"button",19),u("click",function(){return n.consultar()}),i(31," Buscar "),e()()(),t(32,"div",20)(33,"div",21)(34,"table",22)(35,"thead")(36,"tr")(37,"th",23),i(38,"MODELO"),e(),t(39,"th",23),i(40,"REFERENCIA"),e(),t(41,"th",23),i(42,"DESCRIPCI\xD3N"),e(),t(43,"th",23),i(44,"PNC"),e(),t(45,"th",24),i(46,"CARACTER\xCDSTICAS"),e(),t(47,"th",25),i(48,"PRECIO"),e(),t(49,"th",26),i(50,"PRECIO ANTERIOR"),e(),t(51,"th",23),i(52,"ACCIONES"),e()(),t(53,"tr")(54,"th"),i(55,"AIRE ACOND"),e(),t(56,"th"),i(57,"CILINDRADA"),e(),t(58,"th"),i(59,"COMBUSTIBLE"),e(),t(60,"th"),i(61,"TRANSMISI\xD3N"),e(),t(62,"th"),i(63,"P\xDABLICO"),e(),t(64,"th"),i(65,"CONCESIONARIO"),e(),t(66,"th"),i(67,"P\xDABLICO"),e(),t(68,"th"),i(69,"CONCESIONARIO"),e(),t(70,"th"),i(71,"FECHA"),e()()(),t(72,"tbody"),v(73,Ve,33,16,"tr",null,We,!1,De,3,0,"tr"),e()()(),t(76,"div",27)(77,"div",28),i(78),e(),t(79,"ngb-pagination",29),u("pageChange",function(a){return n.cambiarPagina(a)}),m("pageChange",function(a){return p(n.pagina,a)||(n.pagina=a),a}),e()()()()),o&2&&(R("messageInput","Cargando...")("loading",n.cargando),l(18),c("ngModel",n.filtro.modelo),l(2),c("ngModel",n.filtro.referencia),l(2),c("ngModel",n.filtro.descripcion),l(2),c("ngModel",n.filtro.pnc),l(3),c("ngModel",n.filtro.activo),l(46),h(n.repuestos),l(5),f(" Mostrando ",n.repuestos.length," respuesto(s) "),l(),R("collectionSize",n.total)("pageSize",n.filtro.limite)("maxSize",10),c("page",n.pagina))},dependencies:[O,T,B,F,L,z,U,ce,me,$],encapsulation:2})};export{ve as Repuestos};
