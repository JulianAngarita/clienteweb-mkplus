import{b as y,c as p,d as E,e as I,h as F,j as N,l as M,t as L,v as P}from"./chunk-YPYZVSIH.js";import{a as x}from"./chunk-46W6NAYG.js";import"./chunk-I2A4HNRV.js";import{e as k}from"./chunk-PTR2WAUU.js";import{s as _}from"./chunk-JJK3Y3Z5.js";import{Bb as h,Db as C,Ea as r,Mb as f,Ob as n,Pb as S,Qb as w,Va as g,aa as s,fb as v,gb as b,lb as c,mb as i,nb as o,ob as u}from"./chunk-XFJKNVDY.js";import"./chunk-FJYW2LMB.js";function D(a,m){if(a&1&&(i(0,"div",12),n(1),o()),a&2){let e=C();r(),S(e.error)}}var A=class a{fb=s(L);authService=s(x);router=s(k);loading=!1;error="";form=this.fb.group({email:["",[p.required,p.email]],password:["",p.required]});onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0,this.error="";let m={email:this.form.value.email??"",contrasena:this.form.value.password??""};this.authService.iniciarSesion(m).subscribe({next:e=>{this.loading=!1,e?.estatus?this.router.navigate(["/inicio/prepagado"]):this.error=e?.resultadoOperacion||"Credenciales inv\xE1lidas."},error:e=>{this.loading=!1,this.error="Ocurri\xF3 un error al iniciar sesi\xF3n. Intenta de nuevo."}})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["app-login-component"]],decls:24,vars:8,consts:[[1,"login-bg","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"card","shadow-lg","border-0","rounded-1","p-4",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],[1,"form-container",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"input-kia"],["for","email"],["id","email","type","email","formControlName","email",1,"input-kia-field"],[1,"invalid-feedback","input-kia-helper"],["for","password"],["id","password","type","password","formControlName","password",1,"input-kia-field"],[1,"invalid-feedback"],[1,"alert","alert-danger","py-2"],["type","submit",1,"btn","boton-principal-kia","w-100","py-2","fw-semibold",3,"disabled"]],template:function(e,t){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),n(4,"Mantenimiento Prepagado"),o(),i(5,"h6"),n(6,"Iniciar Sesi\xF3n"),o()(),i(7,"form",3),h("ngSubmit",function(){return t.onSubmit()}),i(8,"div",4)(9,"div",5)(10,"label",6),n(11,"Correo \xE9lectronico"),o(),u(12,"input",7),i(13,"div",8),n(14,"Ingresa un correo v\xE1lido."),o()()(),i(15,"div",4)(16,"label",9),n(17,"Contrase\xF1a"),o(),u(18,"input",10),i(19,"div",11),n(20,"La contrase\xF1a es obligatoria."),o()(),v(21,D,2,1,"div",12),i(22,"button",13),n(23),o()()()()),e&2){let l,d;r(7),c("formGroup",t.form),r(5),f("is-invalid",((l=t.form.get("email"))==null?null:l.invalid)&&((l=t.form.get("email"))==null?null:l.touched)),r(6),f("is-invalid",((d=t.form.get("password"))==null?null:d.invalid)&&((d=t.form.get("password"))==null?null:d.touched)),r(3),b(t.error?21:-1),r(),c("disabled",t.loading),r(),w(" ",t.loading?"Accediendo...":"Acceder"," ")}},dependencies:[_,P,F,y,E,I,N,M],styles:[".login-bg[_ngcontent-%COMP%]{background:url(https://owners.kia.com/content/dam/kia/us/owners/image/kop-home/hp_hero_big.jpg) no-repeat center center/cover}.card[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);background-color:#fffffff2}button[disabled][_ngcontent-%COMP%]{opacity:.8;cursor:not-allowed}"]})};export{A as LoginComponent};
